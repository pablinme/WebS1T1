<?php

$result = "";

class SimpleCalculator
{
    var $n1;
    var $n2;

    function checkOperation($op)
    {
        switch($op)
        {
            case '+':
            return $this->n1 + $this->n2;
            break;

            case '-':
            return $this->n1 - $this->n2;
            break;

            case '*':
            return $this->n1 * $this->n2;
            break;

            case '/':
            return $this->n1 / $this->n2;
            break;

            default:
            return "Operación inválida";
        }   
    }

    function getResult($n1, $n2, $operator)
    {
        $this->n1 = $n1;
        $this->n2 = $n2;

        if($operator == '/' && n2 == 0)
        {
            return "Operación inválida";
        }

        return $this->checkOperation($operator);
    }
}

$calculator = new SimpleCalculator();
if(isset($_POST['submit']))
{   
    $result = $cal->getResult($_POST['n1'],$_POST['n2'],$_POST['op']);
}
?>

<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Aplicaciones Web - S1T1</title>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <h1>Pablo Miranda Escobar</h1>

    <p>
      S1T1: Calcualdora simple.
    </p>

    <form method="post">
      <table align="center">
          <tr>
              <td><strong><?php echo $result; ?><strong></td>
          </tr>
          <tr>
              <td>Primer Número: </td>
              <td><input type="text" name="num1"></td>
          </tr>
      
          <tr>
              <td>Segundo Número: </td>
              <td><input type="text" name="num2"></td>
          </tr>
      
          <tr>
              <td>Operador</td>
              <td><select name="op">
                  <option value="+">+</option>
                  <option value="-">-</option>
                  <option value="*">*</option>
                  <option value="/">/</option>
              </select></td>
          </tr>
      
          <tr>
              <td></td>
              <td><input type="submit" name="submit" value="Calcular"></td>
          </tr>
      
      </table>
      </form>
      
  </body>
</html>
